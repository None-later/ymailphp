# Overview

YmailPHP is a PHP client library for the [Yahoo Mail web service](http://developer.yahoo.com/mail/).
The client supports the OAuth authorization model and the JSON variant of the API. 

To get an OAuth key that works for Yahoo Mail visit the [YDN OAuth page](http://developer.yahoo.com/oauth/).

Also, you can read [this getting started tutorial]() which guides you through acquiring an 
OAuth key and using the YmailPHP library. 

# Using the library

YmailPHP is a Yahoo Mail web service client library. To use it you construct a `YMClient` 
instance and make subsequent method calls that mirror the web service APIs. The following
code snippet will construct a `YMClient` and use it to print the folder list for a mailbox.

    <?php
        require_once 'inc/ymclient.inc';

        $ymc = new YMClient(
		    OAUTH_CONSUMER_KEY,
		    OAUTH_CONSUMER_SECRET
		);
		
		$oaToken = new OAuthToken(
			OAUTH_TOKEN,
			OAUTH_TOKEN_SECRET
		);
		
		try {
		    print_r($ymc->ListFolders(new stdclass(), $oaToken));
		} 

		catch(YMClientException $e) {
		    // Uh oh...
		}
    ?> 

The `OAuthToken` must be an access token, not a request token. If the access token is stale
then the YmailPHP library will attempt to refresh it. 

The YmailPHP library provides some functions that make it easier to create and 
manage OAuth sessions with the Ymail web service. The following methods are available 
in the `YMClient` class: 

* `oauth_get_request_token()`
* `oauth_get_access_token()`
* `oauth_get_refreshed_token()` - returns an OAuthToken if it was refreshed by the previous call

In addition, it provides some methods to (de-)serialize OAuth tokens to and
from query strings. These query strings are compatible with those generated by
`OAuthToken.from_string()`, but contain additional data that allows for token refresh, etc.

* `oauth_token_to_query_string()`
* `oauth_token_from_query_string()`
